<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous">
    </script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.js"></script>
<!-- Update Modal -->
<div class="modal fade" id='sando-update-modal' tabindex="-1" aria-labelledby='sando-update-modal-label'
    aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id='sando-update-modal-label'>New Update!</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h4 id='sando-update-modal-version'>Version [VersionNumber] - [UpdateCaption]</h4>
                <p class="mt-5 mb-5" id='sando-update-modal-message'></p>
                <div class="mt-3 p-1 alert alert-danger d-flex align-items-center" role="alert">
                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="40" fill="currentColor"
                        class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16">
                        <path
                            d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                    </svg>
                    <p class="mt-3" id='sando-update-procedure'>a</p>
                </div>

            </div>
            <div class="modal-footer">
                <a id='sando-updatelink' class="btn btn-primary" href="" target="_blank" rel="noopener noreferrer">Take
                    me to the Download! <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                        fill="currentColor" class="ms-1 mb-1 bi bi-box-arrow-up-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z" />
                        <path fill-rule="evenodd"
                            d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z" />
                    </svg></a>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="container align-items-left">
    <img id='sando-icon' style="padding-right: 0.5rem; width: 95px; height: auto;" class="img-fluid mt-2 float-start"
        src="" alt="" />
    <h2 id='sando-title' style="margin: 0rem; padding: rem;">
        </h1>
        <h3 style="margin: 0rem; padding: 0rem;">By Landie
            <span class="position-relative">
                <span id='sando-live-indicator' style="display: none; transform: translate(0.8rem,-0.6rem);"
                    class="mt-3 position-absolute p-1 bg-danger border border-light rounded-circle"></span><svg
                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-twitch"
                    viewBox="0 0 16 16">
                    <a id="twitchLink" href="https://twitch.tv/landie" target="_blank" rel="noopener noreferrer">
                        <path
                            d="M3.857 0 1 2.857v10.286h3.429V16l2.857-2.857H9.57L14.714 8V0H3.857zm9.714 7.429-2.285 2.285H9l-2 2v-2H4.429V1.143h9.142v6.286z" />
                        <path d="M11.857 3.143h-1.143V6.57h1.143V3.143zm-3.143 0H7.571V6.57h1.143V3.143z" />
                </svg>
            </span>

            </a>
            <a id='sando-twitterLink' href="" target="_blank" rel="noopener noreferrer"><svg
                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-twitter"
                    viewBox="0 0 16 16">
                    <path
                        d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" />
                </svg></a>
            <a id='sando-discordLink' href="" target="_blank" rel="noopener noreferrer"><svg
                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-discord"
                    viewBox="0 0 16 16">
                    <path
                        d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z" />
                </svg></a>
            <a id='sando-youtubeLink' href="" target="_blank" rel="noopener noreferrer"><svg
                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-youtube"
                    viewBox="0 0 16 16">
                    <path
                        d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z" />
                </svg></a>
            </span>
        </h3>
        <h5 id='sando-version'>Version [VersionNumber]</h5>
</div>
<!--Update alert-->
<div id='sando-update-modal-alert' class="container" style="display: none">
    <div class="mt-3 p-1 alert alert-warning d-flex align-items-center" role="alert">
        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="40" fill="currentColor"
            class="me-2 bi bi-exclamation-triangle-fill" viewBox="0 0 16 16">
            <path
                d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
        </svg>
        <p class="mt-3">A new update is available! <a name="check-for-updates" id='sando-update-more-info'
                class="btn btn-info ms-3" href="#" role="button">More info</a></p>
    </div>
</div>
<div style="margin-top: 1rem;" class="container">
    <h3 id='sando-description'></h3>
</div>
<!--main guts-->

<!--nav tabs sando-->
<ul class="nav nav-tabs mt-2" id="sando-nav-tab" role="tablist">
    <li class="nav-item" role="presentation">
        <div>
            <button class="nav-link active" id="sando-nav-scene-packer" data-bs-toggle="tab"
                data-bs-target="#sando-nav-scene-packer-pane" type="button" role="tab"
                aria-controls="sando-nav-scene-packer-pane" aria-selected="true">Scene Packer</button>
        </div>
    </li>
    <li class="nav-item" role="presentation">
        <div>
            <button class="nav-link" id="sando-nav-file-tailer" data-bs-toggle="tab"
                data-bs-target="#sando-nav-file-tailer-pane" type="button" role="tab"
                aria-controls="sando-nav-file-tailer-pane" aria-selected="false">File Tailer</button>
        </div>
    </li>
</ul>
<!--nav tabs sando end-->

<div class="tab-content container" id="sando-nav-tabContent" style="background-color:rgb(6, 16, 31);">
    <div class="tab-pane active" id="sando-nav-scene-packer-pane" role="tabpanel"
        aria-labelledby="sando-nav-scene-packer-pane" tabindex="0">
        <h1>WIP</h1>
        <!-- <h1>Package Scenes</h1>
            <label>Scene Name</label>
            <input type="text"> -->
    </div>
    <div class="tab-pane fade" id="sando-nav-file-tailer-pane" role="tabpanel"
        aria-labelledby="sando-nav-file-tailer-pane" tabindex="1">
        <h1>WIP</h1>
    </div>
</div>

<!--main guts end-->
<div class="container">
    <div class="mt-5 p-1 alert alert-info d-flex align-items-center" role="alert">
        <svg class="me-2" xmlns="http://www.w3.org/2000/svg" width="64" height="40" fill="currentColor"
            class="bi bi-question-circle-fill" viewBox="0 0 16 16">
            <path
                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z" />
        </svg>
        <p class="mt-3">Please visit the <a id='sando-documentation' class="alert-link" href="" target="_blank"
                rel="noopener noreferrer">Documentation</a> To learn how to use this extension! If
            you still have questions, please join my discord server with the icon link above!</p>
    </div>
</div>


<!--support footer-->
<div class="container mt-3">
    <div class="row d-flex justify-content-center align-items-center">
        <div class="col-6 col-xs-3">
            <h5>Intrested in my other extensions? check them all out <a id='sando-shoplink' href="" target="_blank"
                    rel="noopener noreferrer">Here!</a></h5>
        </div>
        <div class="col-3 col-xs-9 d-flex justify-content-center align-items-center">
            <img style="padding-right: 0.5rem; height: auto;" class="float-start"
                src="https://raw.githubusercontent.com/Landiie/landiie.github.io/eleventy-ify-2/src/assets/images/transmitter_landielogo.png"
                alt="" />
        </div>
    </div>
    <div class="row d-flex justify-content-center">
        <div class="col-6 col-xs-3">
            <h5>Please consider donating to my Ko-Fi, it allows me to continue making extensions!</h5>
            <script type='text/javascript' src='https://storage.ko-fi.com/cdn/widget/Widget_2.js'></script>
            <script
                type='text/javascript'>kofiwidget2.init('Support Landie!', '#9ad173', 'F1F6SBXD'); kofiwidget2.draw();</script>
        </div>
        <div class="col-3 col-xs-9 d-flex justify-content-center align-items-center">
            <img class=""
                src="https://static-cdn.jtvnw.net/emoticons/v2/emotesv2_17fd903314a74c1d810ee4594633cf50/static/light/3.0"
                alt="">
        </div>
    </div>
</div>

<script>

    //quick info
    sandoFillInfo()

    function sandoFillInfo() {
        const TwitterLink = 'https://twitter.com/landie__'
        const DiscordLink = 'https://discord.gg/ZTbMw7TVKa'
        const YoutubeLink = 'https://youtube.com/landie'
        const productImage = "https://landie.land/assets/images/sammi-extensions/sando/cover_bridge.png";
        const updateProcedure = 'Read the <a class="alert-link" href="https://landie.land/shop/sammi-extensions/sando#setup" target="_blank" rel="noopener noreferrer">update procedure</a> before updating!'
        const versionNumber = "2.7.0";
        const productName = "Sando";
        const productDescription = 'A library for extension developers containing some very useful commands!'
        const shopLink = 'https://landie.land/shop'
        const onlineUpdaterLink = 'https://raw.githubusercontent.com/Landiie/landiie.github.io/eleventy-ify-2/src/shop/sammi-extensions/landitube_info.json'
        const documentation = 'https://landie.land/shop/sammi-extensions/sando#documentation'

        document.getElementById('sando-twitterLink').href = TwitterLink
        document.getElementById('sando-discordLink').href = DiscordLink
        document.getElementById('sando-youtubeLink').href = YoutubeLink

        document.getElementById('sando-title').textContent = productName
        document.getElementById('sando-description').innerHTML = productDescription
        document.getElementById('sando-version').textContent = `ver. ${versionNumber}`
        document.getElementById('sando-icon').src = productImage
        document.getElementById('sando-shoplink').href = shopLink
        document.getElementById("sando-documentation").href = documentation
        document.getElementById('sando-update-procedure').innerHTML = updateProcedure

        //update check
        sandoUpdateCheck();
        async function sandoUpdateCheck() {
            const resp = await fetch(onlineUpdaterLink);
            const data = await resp.json();
            const liveVersion = data.version
            const updateCaption = data.versionSummaryHeader
            const updateShortMessage = data.versionSummaryBody
            const updateLink = data.downloadLink

            if (versionNumber !== liveVersion) {

                //shows the update warning alert
                document.getElementById('sando-update-modal-alert').style.display = "block"
                sandoUpdateSammiAlert = true

                //replace modal header title, download link, and caption
                document.getElementById('sando-update-modal-version').textContent = document.getElementById('sando-update-modal-version').textContent.replace("[VersionNumber]", liveVersion)
                document.getElementById('sando-update-modal-version').textContent = document.getElementById('sando-update-modal-version').textContent.replace("[UpdateCaption]", updateCaption)
                document.getElementById('sando-update-modal-message').innerHTML = updateShortMessage
                document.getElementById('sando-updatelink').href = updateLink
            }
        }
    }

    //if live or not
    fetch("https://decapi.me/twitch/uptime/landie/?offline_msg=notstreaming").then(resp => resp.text()).then(status => {
        if (status != "notstreaming") {
            document.getElementById('sando-live-indicator').style.display = ''
        }
    })

    // update modal
    document.getElementById('sando-update-more-info').addEventListener("click", function () {
        const updateModal = document.getElementById('sando-update-modal')
        const updateModalObject = new bootstrap.Modal(updateModal)
        updateModalObject.show()
    })
</script>